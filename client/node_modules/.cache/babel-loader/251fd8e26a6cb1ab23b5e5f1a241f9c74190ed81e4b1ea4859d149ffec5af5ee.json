{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\J3adl30y\\\\Desktop\\\\videostreaminghttps\\\\client\\\\src\\\\VideoPlayer.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from \"react\";\nimport Hls from \"hls.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VideoPlayer = () => {\n  _s();\n  const videoRef = useRef(null);\n  const hlsRef = useRef(null);\n  const [availableResolutions, setAvailableResolutions] = useState([]);\n  const [selectedResolution, setSelectedResolution] = useState(\"\");\n  useEffect(() => {\n    const video = videoRef.current;\n    if (Hls.isSupported()) {\n      const hls = new Hls();\n      hlsRef.current = hls;\n      hls.loadSource(\"http://192.168.1.200:8080/video/master.m3u8\");\n      hls.attachMedia(video);\n      hls.on(Hls.Events.MANIFEST_PARSED, function () {\n        setAvailableResolutions(hls.levels.map(level => ({\n          resolution: `${level.width}x${level.height}`,\n          bitrate: level.bitrate\n        })));\n        setSelectedResolution(`${video.videoWidth}x${video.videoHeight}`);\n        video.play(); // Start playback once the manifest is loaded\n      });\n      return () => {\n        if (hls) {\n          hls.destroy();\n        }\n      };\n    } else if (video.canPlayType(\"application/vnd.apple.mpegurl\")) {\n      video.src = \"http://192.168.1.200:8080/video/master.m3u8\";\n      video.addEventListener(\"loadedmetadata\", function () {\n        setAvailableResolutions([{\n          resolution: `${video.videoWidth}x${video.videoHeight}`\n        }]);\n        setSelectedResolution(`${video.videoWidth}x${video.videoHeight}`);\n        video.play(); // Start playback once the metadata is loaded\n      });\n    }\n  }, []);\n  const handleResolutionChange = event => {\n    const selectedRes = event.target.value;\n    setSelectedResolution(selectedRes);\n    // Here you can seek to the appropriate point in the video to change resolutions\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: \"1280px\",\n      margin: \"0 auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"video\", {\n      ref: videoRef,\n      controls: true,\n      className: \"video-js vjs-default-skin\",\n      width: \"1280\",\n      height: \"720\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Select Resolution:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedResolution,\n        onChange: handleResolutionChange,\n        children: availableResolutions.map((res, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: res.resolution,\n          children: [res.resolution, \" (\", (res.bitrate / 1000).toFixed(0), \" kbps)\"]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoPlayer, \"tcxX5O7CMO/UHle3asd4yCYRQUU=\");\n_c = VideoPlayer;\nexport default VideoPlayer;\nvar _c;\n$RefreshReg$(_c, \"VideoPlayer\");","map":{"version":3,"names":["React","useRef","useEffect","useState","Hls","jsxDEV","_jsxDEV","VideoPlayer","_s","videoRef","hlsRef","availableResolutions","setAvailableResolutions","selectedResolution","setSelectedResolution","video","current","isSupported","hls","loadSource","attachMedia","on","Events","MANIFEST_PARSED","levels","map","level","resolution","width","height","bitrate","videoWidth","videoHeight","play","destroy","canPlayType","src","addEventListener","handleResolutionChange","event","selectedRes","target","value","style","margin","children","ref","controls","className","fileName","_jsxFileName","lineNumber","columnNumber","onChange","res","index","toFixed","_c","$RefreshReg$"],"sources":["C:/Users/J3adl30y/Desktop/videostreaminghttps/client/src/VideoPlayer.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\r\nimport Hls from \"hls.js\";\r\n\r\nconst VideoPlayer = () => {\r\n  const videoRef = useRef(null);\r\n  const hlsRef = useRef(null);\r\n  const [availableResolutions, setAvailableResolutions] = useState([]);\r\n  const [selectedResolution, setSelectedResolution] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const video = videoRef.current;\r\n\r\n    if (Hls.isSupported()) {\r\n      const hls = new Hls();\r\n      hlsRef.current = hls;\r\n\r\n      hls.loadSource(\"http://192.168.1.200:8080/video/master.m3u8\");\r\n      hls.attachMedia(video);\r\n\r\n      hls.on(Hls.Events.MANIFEST_PARSED, function () {\r\n        setAvailableResolutions(\r\n          hls.levels.map((level) => ({\r\n            resolution: `${level.width}x${level.height}`,\r\n            bitrate: level.bitrate,\r\n          }))\r\n        );\r\n        setSelectedResolution(`${video.videoWidth}x${video.videoHeight}`);\r\n        video.play(); // Start playback once the manifest is loaded\r\n      });\r\n\r\n      return () => {\r\n        if (hls) {\r\n          hls.destroy();\r\n        }\r\n      };\r\n    } else if (video.canPlayType(\"application/vnd.apple.mpegurl\")) {\r\n      video.src = \"http://192.168.1.200:8080/video/master.m3u8\";\r\n      video.addEventListener(\"loadedmetadata\", function () {\r\n        setAvailableResolutions([\r\n          { resolution: `${video.videoWidth}x${video.videoHeight}` },\r\n        ]);\r\n        setSelectedResolution(`${video.videoWidth}x${video.videoHeight}`);\r\n        video.play(); // Start playback once the metadata is loaded\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const handleResolutionChange = (event) => {\r\n    const selectedRes = event.target.value;\r\n    setSelectedResolution(selectedRes);\r\n    // Here you can seek to the appropriate point in the video to change resolutions\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: \"1280px\", margin: \"0 auto\" }}>\r\n      <video\r\n        ref={videoRef}\r\n        controls\r\n        className=\"video-js vjs-default-skin\"\r\n        width=\"1280\"\r\n        height=\"720\"\r\n      />\r\n      <div>\r\n        <label>Select Resolution:</label>\r\n        <select value={selectedResolution} onChange={handleResolutionChange}>\r\n          {availableResolutions.map((res, index) => (\r\n            <option key={index} value={res.resolution}>\r\n              {res.resolution} ({(res.bitrate / 1000).toFixed(0)} kbps)\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoPlayer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}