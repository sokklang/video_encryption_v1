{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\J3adl30y\\\\Desktop\\\\videostreaminghttps\\\\client\\\\src\\\\VideoPlayer.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState, useCallback } from \"react\";\nimport Hls from \"hls.js\";\nimport \"./styles.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VideoPlayer = () => {\n  _s();\n  const [currentTime, setCurrentTime] = useState(\"0:00\");\n  const [totalTime, setTotalTime] = useState(\"0:00\");\n  const [progressPosition, setProgressPosition] = useState(0);\n  const [previewPosition, setPreviewPosition] = useState(0);\n  const [bufferedPercentage, setBufferedPercentage] = useState(0);\n  const [isBuffering, setIsBuffering] = useState(false);\n  const videoRef = useRef(null);\n  const videoContainerRef = useRef(null);\n  const volumeSliderRef = useRef(null);\n  const handleKeyDown = useCallback(e => {\n    // Your existing handleKeyDown function\n  }, []);\n  const skip = useCallback(duration => {\n    const video = videoRef.current;\n    video.currentTime += duration;\n  }, []);\n  const toggleFullscreen = useCallback(() => {\n    // Your existing toggleFullscreen function\n  }, []);\n  const updateTime = useCallback(() => {\n    // Your existing updateTime function\n  }, []);\n  const updateBuffered = useCallback(() => {\n    // Your existing updateBuffered function\n  }, []);\n  const updateTotalTime = useCallback(() => {\n    // Your existing updateTotalTime function\n  }, []);\n  const handleVolumeChange = useCallback(() => {\n    // Your existing handleVolumeChange function\n  }, []);\n  const handleTimelineHover = useCallback(e => {\n    // Your existing handleTimelineHover function\n  }, []);\n  const handleTimelineClick = useCallback(e => {\n    // Your existing handleTimelineClick function\n  }, []);\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, [handleKeyDown]);\n  useEffect(() => {\n    const video = videoRef.current;\n    video.addEventListener(\"timeupdate\", updateTime);\n    video.addEventListener(\"progress\", updateBuffered);\n    video.addEventListener(\"durationchange\", updateTotalTime);\n    return () => {\n      video.removeEventListener(\"timeupdate\", updateTime);\n      video.removeEventListener(\"progress\", updateBuffered);\n      video.removeEventListener(\"durationchange\", updateTotalTime);\n    };\n  }, [updateTime, updateBuffered, updateTotalTime]);\n  useEffect(() => {\n    const video = videoRef.current;\n    video.addEventListener(\"waiting\", () => setIsBuffering(true));\n    video.addEventListener(\"playing\", () => setIsBuffering(false));\n    return () => {\n      video.removeEventListener(\"waiting\", () => setIsBuffering(true));\n      video.removeEventListener(\"playing\", () => setIsBuffering(false));\n    };\n  }, []);\n  useEffect(() => {\n    const video = videoRef.current;\n    const volumeSlider = volumeSliderRef.current;\n    const videoContainer = videoContainerRef.current;\n    video.addEventListener(\"volumechange\", handleVolumeChange);\n    volumeSlider.addEventListener(\"input\", handleVolumeChange);\n    return () => {\n      video.removeEventListener(\"volumechange\", handleVolumeChange);\n    };\n  }, [handleVolumeChange]);\n  useEffect(() => {\n    const video = videoRef.current;\n    const handleVideoSource = () => {\n      if (Hls.isSupported()) {\n        const hls = new Hls();\n        hls.loadSource(\"http://localhost:8080/video/master.m3u8\");\n        hls.attachMedia(video);\n        return () => hls.destroy();\n      } else if (video.canPlayType(\"application/vnd.apple.mpegurl\")) {\n        video.src = \"http://localhost:8080/video/master.m3u8\";\n      }\n    };\n    handleVideoSource();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: videoContainerRef,\n    className: `video-container ${isBuffering ? \"paused\" : \"\"}`,\n    \"data-volume-level\": \"high\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoPlayer, \"sIY5omaw6tKOGigLRgj/wn27Om4=\");\n_c = VideoPlayer;\nexport default VideoPlayer;\nvar _c;\n$RefreshReg$(_c, \"VideoPlayer\");","map":{"version":3,"names":["React","useRef","useEffect","useState","useCallback","Hls","jsxDEV","_jsxDEV","VideoPlayer","_s","currentTime","setCurrentTime","totalTime","setTotalTime","progressPosition","setProgressPosition","previewPosition","setPreviewPosition","bufferedPercentage","setBufferedPercentage","isBuffering","setIsBuffering","videoRef","videoContainerRef","volumeSliderRef","handleKeyDown","e","skip","duration","video","current","toggleFullscreen","updateTime","updateBuffered","updateTotalTime","handleVolumeChange","handleTimelineHover","handleTimelineClick","document","addEventListener","removeEventListener","volumeSlider","videoContainer","handleVideoSource","isSupported","hls","loadSource","attachMedia","destroy","canPlayType","src","ref","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/J3adl30y/Desktop/videostreaminghttps/client/src/VideoPlayer.js"],"sourcesContent":["import React, { useRef, useEffect, useState, useCallback } from \"react\";\r\nimport Hls from \"hls.js\";\r\nimport \"./styles.css\";\r\n\r\nconst VideoPlayer = () => {\r\n  const [currentTime, setCurrentTime] = useState(\"0:00\");\r\n  const [totalTime, setTotalTime] = useState(\"0:00\");\r\n  const [progressPosition, setProgressPosition] = useState(0);\r\n  const [previewPosition, setPreviewPosition] = useState(0);\r\n  const [bufferedPercentage, setBufferedPercentage] = useState(0);\r\n  const [isBuffering, setIsBuffering] = useState(false);\r\n\r\n  const videoRef = useRef(null);\r\n  const videoContainerRef = useRef(null);\r\n  const volumeSliderRef = useRef(null);\r\n\r\n  const handleKeyDown = useCallback((e) => {\r\n    // Your existing handleKeyDown function\r\n  }, []);\r\n\r\n  const skip = useCallback((duration) => {\r\n    const video = videoRef.current;\r\n    video.currentTime += duration;\r\n  }, []);\r\n\r\n  const toggleFullscreen = useCallback(() => {\r\n    // Your existing toggleFullscreen function\r\n  }, []);\r\n\r\n  const updateTime = useCallback(() => {\r\n    // Your existing updateTime function\r\n  }, []);\r\n\r\n  const updateBuffered = useCallback(() => {\r\n    // Your existing updateBuffered function\r\n  }, []);\r\n\r\n  const updateTotalTime = useCallback(() => {\r\n    // Your existing updateTotalTime function\r\n  }, []);\r\n\r\n  const handleVolumeChange = useCallback(() => {\r\n    // Your existing handleVolumeChange function\r\n  }, []);\r\n\r\n  const handleTimelineHover = useCallback((e) => {\r\n    // Your existing handleTimelineHover function\r\n  }, []);\r\n\r\n  const handleTimelineClick = useCallback((e) => {\r\n    // Your existing handleTimelineClick function\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", handleKeyDown);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleKeyDown);\r\n    };\r\n  }, [handleKeyDown]);\r\n\r\n  useEffect(() => {\r\n    const video = videoRef.current;\r\n    video.addEventListener(\"timeupdate\", updateTime);\r\n    video.addEventListener(\"progress\", updateBuffered);\r\n    video.addEventListener(\"durationchange\", updateTotalTime);\r\n\r\n    return () => {\r\n      video.removeEventListener(\"timeupdate\", updateTime);\r\n      video.removeEventListener(\"progress\", updateBuffered);\r\n      video.removeEventListener(\"durationchange\", updateTotalTime);\r\n    };\r\n  }, [updateTime, updateBuffered, updateTotalTime]);\r\n\r\n  useEffect(() => {\r\n    const video = videoRef.current;\r\n    video.addEventListener(\"waiting\", () => setIsBuffering(true));\r\n    video.addEventListener(\"playing\", () => setIsBuffering(false));\r\n\r\n    return () => {\r\n      video.removeEventListener(\"waiting\", () => setIsBuffering(true));\r\n      video.removeEventListener(\"playing\", () => setIsBuffering(false));\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const video = videoRef.current;\r\n    const volumeSlider = volumeSliderRef.current;\r\n    const videoContainer = videoContainerRef.current;\r\n\r\n    video.addEventListener(\"volumechange\", handleVolumeChange);\r\n\r\n    volumeSlider.addEventListener(\"input\", handleVolumeChange);\r\n\r\n    return () => {\r\n      video.removeEventListener(\"volumechange\", handleVolumeChange);\r\n    };\r\n  }, [handleVolumeChange]);\r\n\r\n  useEffect(() => {\r\n    const video = videoRef.current;\r\n    const handleVideoSource = () => {\r\n      if (Hls.isSupported()) {\r\n        const hls = new Hls();\r\n        hls.loadSource(\"http://localhost:8080/video/master.m3u8\");\r\n        hls.attachMedia(video);\r\n        return () => hls.destroy();\r\n      } else if (video.canPlayType(\"application/vnd.apple.mpegurl\")) {\r\n        video.src = \"http://localhost:8080/video/master.m3u8\";\r\n      }\r\n    };\r\n    handleVideoSource();\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      ref={videoContainerRef}\r\n      className={`video-container ${isBuffering ? \"paused\" : \"\"}`}\r\n      data-volume-level=\"high\"\r\n    >\r\n      {/* Your JSX for video controls */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoPlayer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}